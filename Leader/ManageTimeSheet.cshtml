@{
    Page.Title = "Manage Time Sheet";
    var db = Database.Open("StarterSite");
    
    //var data = new WebGrid(memberList);

}
<script>
    $(function () {

        $("#startedDatepicker").datepicker();
        $("#endDatepicker").datepicker();
        $("li[id*=mem]").click(function () {
            $.post("/Leader/UserTimeSheet.cshtml", { MemberUserId: $(this).val() }, function (data) { $("#displayTasks").html(data) });

        });

        $("li[id*=mem_]").hover(
            function () { $(this).css('color', '#ff6a00'); },
            function () { $(this).css('color', '#000'); }
        );

        //Get current project
        var currentPrj = $("#tslistProject").find(":selected").val();
        var testType = $("#tsTestType").find(":selected").val();
        var startedDate = $("#startedDatepicker").val();
        var endDate = $("#endDatepicker").val();
        $.post("/Leader/UserTimeSheet.cshtml", { CurrentProjectId: currentPrj, TestType: testType, StartedDate: startedDate, EndDate: endDate },
                                function (data) { $("#tsContent").html(data); });

        //The project is changed
        $("#tslistProject").change(function () {
            currentPrj = $("#tslistProject").find(":selected").val();
            $.post("/Leader/UserTimeSheet.cshtml", { CurrentProjectId: currentPrj, action: "showCurrentPrj" }, function (data) { $("#tsContent").html(data); });
        });
         $("#SearchDate").click(function () {
            currentPrj = $("#tslistProject").find(":selected").val();
            $.post("/Leader/UserTimeSheet.cshtml", { CurrentProjectId: currentPrj, action: "showCurrentPrj" }, function (data) { $("#tsContent").html(data); });
        });
    });
</script>


<div id="searchBar">
    <div id="component">
        <span><strong>Project</strong></span>
        @Html.DropDownList("tslistProject",Functions.getListOfProjectsFromUser(WebSecurity.CurrentUserId))
    </div>
    <div id="component">
        <span><strong>Test type</strong></span>
        @Html.DropDownList("tsTestType",Functions.getListTestType())
    </div>
    <div id="component">
        <span><strong>StarteDate</strong></span>
        <input type="text" id="startedDatepicker">
    </div>
    <div id="component">
        <span><strong>EndDate</strong></span>
        <input type="text" id="endDatepicker">
    </div>
    <div id="component">
        <input type="button" id="SearchDate" value="Search">
    </div>
</div>

<div id="tsContent">   
 </div>

@*
<div style="float: left; width: 150px;">
    <h2>MEMBER LIST</h2>
    <ul>
        @foreach(var member in memberList){
            <li id="mem_@member.UserId" value="@member.UserId">
                @member.FirstName
                <span>(@Functions.getTotalUnapprovedTimeSheet(member.UserId))</span>
            </li>
        }
    </ul>
</div>



<div style="float: right ;width: 850px" id="displayTasks">
    @RenderPage("~/Leader/UserTimeSheet.cshtml")
</div>
*@