@{
     Page.Title = "Manage Your Projects";
     var db = Database.Open("StarterSite");
     int userID = WebSecurity.CurrentUserId;
     var query = "SELECT * FROM Projects,Project_User WHERE Project_User.UserId=@0 AND Projects.ProjectId = Project_User.ProjectId";
     var data = db.Query(query,userID);
     var grid = new WebGrid(data);
     if(IsPost){
         <div>@Request["ProjectId"]</div>
     }
}

<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"  type="text/javascript"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>    
        <title></title>
    </head>
    <body>
        <form method="post" action="~/Leader/ProjectDetails" name="manageProjectForm">
            @grid.GetHtml(
            tableStyle: "grid",
            alternatingRowStyle: "alternate",
            headerStyle: "gridheader",
            footerStyle: "gridfooter",
            caption: "Project List",
            columns: grid.Columns(
                grid.Column(
                    columnName: "ProjectName"
                ),
                grid.Column(
                    columnName: "Description"
                ),
                grid.Column(
                    columnName: "StartedDate",
                    format: @<span>@item.StartedDate.ToString("d")</span>
                ),
                grid.Column(
                    columnName: "EndDate",
                    format: @<span>@item.EndDate.ToString("d")</span>
                ),
                grid.Column(
                    header: string.Empty,
                    format: @<input type="radio" name="ProjectId" value="@item.ProjectId" checked="checked"></input>                    
                )
            )
            )
            <input type="submit" value="Update Members" name="updateMember">

        </form>
      
    </body>
</html>
